<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>계산기 - MyCode12</title>
</head>
<body>
  <div id="header"></div>

  <main class="tools-container">
    <section class="tool-box">
      <h2>계산기</h2>
      
      <div class="tool-section">
        <p>
          <button class="form-toggle-btn" data-target="a-form">퍼센트</button>&nbsp;&nbsp;&nbsp;
          <button class="form-toggle-btn" data-target="d-form">변동률</button>&nbsp;&nbsp;&nbsp;
          <button class="form-toggle-btn" data-target="c-form">단리</button>&nbsp;&nbsp;&nbsp;
          <button class="form-toggle-btn" data-target="f-form">복리</button>&nbsp;&nbsp;&nbsp;
          <button class="form-toggle-btn" data-target="e-form">BMR(기초대사량)</button>&nbsp;&nbsp;&nbsp;
          <button class="form-toggle-btn" data-target="b-form">BMI(체질량지수)</button>&nbsp;&nbsp;&nbsp;
        </p>
         
        <div id="a-form" class="calc-form">
          <p>a, b에 대한 %를 구합니다.</p>
          <form oninput="calculateChange()">
            <table border="0" cellspacing="10">
              <tr align="right">
                <td><label for="a-value">변동 전(a):</label></td>
                <td><input type="number" id="a-value" name="a-value" step="any"></td>
              </tr>
              <tr align="right">
                <td><label for="b-value">변동 후(b):</label></td>
                <td><input type="number" id="b-value" name="b-value" step="any"></td>
              </tr>
            </table>
            <p>변동률:&nbsp;&nbsp;&nbsp;<strong id="result">-</strong></p>
          </form>
        </div>

        <div id="d-form" class="calc-form">
          <p>a의 %값을 계산합니다.</p>
          <form oninput="calculatePercentageChange()">
            <table border="0" cellspacing="10">
              <tr align="right">
                <td><label for="a-value2">기본 값(a):</label></td>
                <td><input type="number" id="a-value2" name="a-value2" step="any"></td>
              </tr>
              <tr align="right">
                <td><label for="percent-value">변동률(%):</label></td>
                <td><input type="number" id="percent-value" name="percent-value" step="any"></td>
              </tr>
            </table>
            <p>결과 값:&nbsp;&nbsp;&nbsp;<strong id="result2">-</strong></p>
          </form>
        </div>


        <div id="e-form" class="calc-form">
          <p>기초대사량(BMR)을 계산합니다.</p>
          <form oninput="calculateBMR()">
            <table border="0" cellspacing="10">
              <tr align="right">
                <td><label for="bmr-gender">성별:</label></td>
                <td>
                  <select id="bmr-gender">
                    <option value="male">남성</option>
                    <option value="female">여성</option>
                  </select>
                </td>
              </tr>
              <tr align="right">
                <td><label for="bmr-age">나이:</label></td>
                <td><input type="number" id="bmr-age" step="1"></td>
              </tr>
              <tr align="right">
                <td><label for="bmr-height">키(cm):</label></td>
                <td><input type="number" id="bmr-height" step="any"></td>
              </tr>
              <tr align="right">
                <td><label for="bmr-weight">몸무게(kg):</label></td>
                <td><input type="number" id="bmr-weight" step="any"></td>
              </tr>
            </table>
            <p>BMR:&nbsp;&nbsp;&nbsp;<strong id="bmr-result">-</strong> kcal/day</p>
          </form>
        </div>


        
        <div id="b-form" class="calc-form">
          <p>체질량지수(BMI)을 계산합니다.</p>
          <form oninput="calculateBMI()">
            <table border="0" cellspacing="10">
              <tr align="right">
                <td><label for="height">키(cm):</label></td>
                <td><input type="number" id="height" name="height" step="any"></td>
              </tr>
              <tr align="right">
                <td><label for="weight">몸무게(kg):</label></td>
                <td><input type="number" id="weight" name="weight" step="any"></td>
              </tr>
            </table>
            <p>BMI:&nbsp;&nbsp;&nbsp;<strong id="bmi-result">-</strong></p>
          </form>
        </div>

        <div id="c-form" class="calc-form">
          <form oninput="calculateSimpleInterest()">
            <p>연 이율 단리를 구합니다.</p>
            <table border="0" cellspacing="10">
              <tr align="right">
                <td><label for="principal">원금:</label></td>
                <td><input type="number" id="principal" name="principal" step="any"></td>
              </tr>
              <tr align="right">
                <td><label for="rate">이자율(%):</label></td>
                <td><input type="number" id="rate" name="rate" step="any"></td>
              </tr>
              <tr align="right">
                <td><label for="time">기간(년):</label></td>
                <td><input type="number" id="time" name="time" step="any"></td>
              </tr>
            </table>
            <p>이자액:&nbsp;&nbsp;&nbsp;<strong id="interest-result">-</strong></p>
            <p>총액:&nbsp;&nbsp;&nbsp;<strong id="total-result">-</strong></p>
        </form>
      </div>

      <div id="f-form" class="calc-form">
        <form oninput="calculateCompoundInterest()">
          <p>복리 이자를 구합니다.</p>
          <table border="0" cellspacing="10">
            <tr align="right">
              <td><label for="principal2">원금:</label></td>
              <td><input type="number" id="principal2" name="principal2" step="any" required></td>
            </tr>
            <tr align="right">
              <td><label for="rate2">이자율(%):</label></td>
              <td><input type="number" id="rate2" name="rate2" step="any" required></td>
            </tr>
            <tr align="right">
              <td><label>복리 주기:</label></td>
              <td>
                <input type="radio" id="yearly" name="compound-frequency" value="1" checked>
                <label for="yearly">년</label>
                <input type="radio" id="monthly" name="compound-frequency" value="12">
                <label for="monthly">월</label>
                <input type="radio" id="daily" name="compound-frequency" value="365">
                <label for="daily">일</label>
              </td>
            </tr>
            <tr align="right">
              <td><label for="time">기간:</label></td>
              <td><input type="number" id="time" name="time" step="any" required></td>
            </tr>
          </table>
          <p>이자액:&nbsp;&nbsp;&nbsp;<strong id="interest-result">-</strong></p>
          <p>총액:&nbsp;&nbsp;&nbsp;<strong id="total-result">-</strong></p>
        </form>
      </div>

      
    </section>
  </main>


  <div id="footer"></div>

  <script>
    // Load header
    fetch("header.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("header").innerHTML = data;
      });

    // Load footer
    fetch("footer.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("footer").innerHTML = data;
      });

    document.querySelectorAll('.form-toggle-btn').forEach(button => {
      button.addEventListener('click', function () {
        const targetId = this.getAttribute('data-target');
    
        // 모든 폼 숨김
        document.querySelectorAll('.calc-form').forEach(form => {
          form.style.display = 'none';
        });
    
        // 선택된 폼만 보이기
        const targetForm = document.getElementById(targetId);
        if (targetForm) targetForm.style.display = 'block';
      });
    });


    function calculateChange() {
      const a = parseFloat(document.getElementById("a-value").value);
      const b = parseFloat(document.getElementById("b-value").value);
      const result = document.getElementById("result");
  
      if (!isNaN(a) && !isNaN(b) && a !== 0) {
        const change = ((b - a) / a) * 100;
        const sign = change >= 0 ? "+" : "";
        result.textContent = `${sign}${change.toFixed(2)}%`;
      } else {
        result.textContent = "-";
      }
    }

    function calculatePercentageChange() {
      const a = parseFloat(document.getElementById("a-value2").value);
      const percent = parseFloat(document.getElementById("percent-value").value);
      const result = document.getElementById("result2");
    
      if (!isNaN(a) && !isNaN(percent)) {
        const b = a * (1 + percent / 100);
        result.textContent = b.toFixed(2);
      } else {
        result.textContent = "-";
      }
    }

    function calculateBMR() {
      const gender = document.getElementById("bmr-gender").value;
      const age = parseFloat(document.getElementById("bmr-age").value);
      const height = parseFloat(document.getElementById("bmr-height").value);
      const weight = parseFloat(document.getElementById("bmr-weight").value);
      const result = document.getElementById("bmr-result");
    
      if (!isNaN(age) && !isNaN(height) && !isNaN(weight)) {
        let bmr;
        if (gender === "male") {
          bmr = 10 * weight + 6.25 * height - 5 * age + 5;
        } else {
          bmr = 10 * weight + 6.25 * height - 5 * age - 161;
        }
        result.textContent = bmr.toFixed(1);
      } else {
        result.textContent = "-";
      }
    }


    
    function calculateBMI() {
      const weight = parseFloat(document.getElementById("weight").value);
      const height = parseFloat(document.getElementById("height").value);
      const result = document.getElementById("bmi-result");
  
      if (!isNaN(weight) && !isNaN(height) && height > 0) {
        const heightInMeters = height / 100;
        const bmi = weight / (heightInMeters * heightInMeters);
        result.textContent = bmi.toFixed(1);
      } else {
        result.textContent = "-";
      }
    }

    function calculateSimpleInterest() {
      const principal = parseFloat(document.getElementById("principal").value);
      const rate = parseFloat(document.getElementById("rate").value);
      const time = parseFloat(document.getElementById("time").value);
      const interestResult = document.getElementById("interest-result");
      const totalResult = document.getElementById("total-result");
  
      if (!isNaN(principal) && !isNaN(rate) && !isNaN(time)) {
        const interest = (principal * rate * time) / 100;
        const total = principal + interest;
        interestResult.textContent = interest.toFixed(2);
        totalResult.textContent = total.toFixed(2);
      } else {
        interestResult.textContent = "-";
        totalResult.textContent = "-";
      }
    }

    function calculateCompoundInterest() {
      const principal = parseFloat(document.getElementById("principal2").value);
      const rate = parseFloat(document.getElementById("rate2").value);
      const time = parseFloat(document.getElementById("time").value);
  
      // 라디오 버튼에서 선택된 복리 주기 값 가져오기
      let compoundFrequency = 1;  // 기본값을 '년'으로 설정
      if (document.getElementById("monthly").checked) {
        compoundFrequency = 12;
      } else if (document.getElementById("daily").checked) {
        compoundFrequency = 365;
      }
      
      const interestResult = document.getElementById("interest-result");
      const totalResult = document.getElementById("total-result");
      
      if (!isNaN(principal) && principal > 0 && !isNaN(rate) && rate >= 0 && !isNaN(time) && time > 0) {
        // 복리 계산 공식
        const interest = principal * Math.pow(1 + (rate / (100 * compoundFrequency)), compoundFrequency * time) - principal;
        const total = principal + interest;
        
        interestResult.textContent = interest.toFixed(2);
        totalResult.textContent = total.toFixed(2);
      } else {
        interestResult.textContent = "-";
        totalResult.textContent = "-";
      }
    }

    
  </script>
</body>
</html>
