<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>계산기 - MyCode12</title>
</head>
<body>
  <div id="header"></div>

  <main class="tools-container">
    <section class="tool-box">
      <h2>계산기</h2>
      
      <div class="tool-section">
        <button id="btn-a">퍼센트</button>
        &nbsp;&nbsp;
        <button id="btn-b">BMI</button>
        &nbsp;&nbsp;
        <button id="btn-c">단리</button>
        <p />
         
        <div id="a-form" class="calc-form">
          <p></p></ㅔ>a, b에 대한 %를 구합니다.</p>
          <form oninput="calculateChange()">
            <label for="a-value">변동 전(a): </label>
            <input type="number" id="a-value" name="a-value" step="any"><br />
            <label for="b-value">변동 후(b): </label>
            <input type="number" id="b-value" name="b-value" step="any">
            <p>변동률: <strong id="result">-</strong></p>
          </form>
        </div>
      
        <div id="b-form" class="calc-form">
          <p></p>BMI 지수를 구합니다.</p>
          <form oninput="calculateBMI()">
            <label for="height">키(cm): </label>
            <input type="number" id="height" name="height" step="any"> <br />
            <label for="weight">몸무게(kg): </label>
            <input type="number" id="weight" name="weight" step="any">
            <p>BMI: <strong id="bmi-result">-</strong></p>
          </form>
        </div>

        <div id="c-form" class="calc-form">
          <form oninput="calculateSimpleInterest()">
            <p></p>연 이율 단리를 구합니다.</p>
            <table border="0" cellspacing="10">
              <tr>
                <td><label for="principal">원금: </label></td>
                <td><input type="number" id="principal" name="principal" step="any"><br /></td>
              </tr>
              <tr>
                <td><label for="rate">이자율(%): </label></td>
                <td><input type="number" id="rate" name="rate" step="any"><br /></td>
              </tr>
              <tr>
                <td><label for="time">기간(년): </label></td>
                <td><input type="number" id="time" name="time" step="any"></td>
              </tr>
            </table>
            <p>이자액: <strong id="interest-result">-</strong></p>
            <p>총액: <strong id="total-result">-</strong></p>
        </form>
      </div>
      
    </section>
  </main>


  <div id="footer"></div>

  <script>
    // Load header
    fetch("header.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("header").innerHTML = data;
      });

    // Load footer
    fetch("footer.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("footer").innerHTML = data;
      });

    document.getElementById('btn-a').addEventListener('click', function() {
      // a 폼을 보이고 나머지 숨기기
      document.getElementById('a-form').style.display = 'block';
      document.getElementById('b-form').style.display = 'none';
      document.getElementById('c-form').style.display = 'none';
    });
    
    document.getElementById('btn-b').addEventListener('click', function() {
      // b 폼을 보이고 나머지 숨기기
      document.getElementById('a-form').style.display = 'none';
      document.getElementById('b-form').style.display = 'block';
      document.getElementById('c-form').style.display = 'none';
    });

    document.getElementById('btn-c').addEventListener('click', function() {
      // c 폼을 보이고 나머지 숨기기
      document.getElementById('a-form').style.display = 'none';
      document.getElementById('b-form').style.display = 'none';
      document.getElementById('c-form').style.display = 'block';
    });


    function calculateChange() {
      const a = parseFloat(document.getElementById("a-value").value);
      const b = parseFloat(document.getElementById("b-value").value);
      const result = document.getElementById("result");
  
      if (!isNaN(a) && !isNaN(b) && a !== 0) {
        const change = ((b - a) / a) * 100;
        const sign = change >= 0 ? "+" : "";
        result.textContent = `${sign}${change.toFixed(2)}%`;
      } else {
        result.textContent = "-";
      }
    }

    function calculateBMI() {
      const weight = parseFloat(document.getElementById("weight").value);
      const height = parseFloat(document.getElementById("height").value);
      const result = document.getElementById("bmi-result");
  
      if (!isNaN(weight) && !isNaN(height) && height > 0) {
        const heightInMeters = height / 100;
        const bmi = weight / (heightInMeters * heightInMeters);
        result.textContent = bmi.toFixed(1);
      } else {
        result.textContent = "-";
      }
    }

    function calculateSimpleInterest() {
    const principal = parseFloat(document.getElementById("principal").value);
    const rate = parseFloat(document.getElementById("rate").value);
    const time = parseFloat(document.getElementById("time").value);
    const interestResult = document.getElementById("interest-result");
    const totalResult = document.getElementById("total-result");

    if (!isNaN(principal) && !isNaN(rate) && !isNaN(time)) {
      const interest = (principal * rate * time) / 100;
      const total = principal + interest;
      interestResult.textContent = interest.toFixed(2);
      totalResult.textContent = total.toFixed(2);
    } else {
      interestResult.textContent = "-";
      totalResult.textContent = "-";
    }
  }
  </script>
</body>
</html>
