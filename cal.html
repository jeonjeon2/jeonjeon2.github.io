<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>계산기 - MyCode12</title>
</head>
<body>
  <div id="header"></div>

  <main class="tools-container">
    <section class="tool-box">
      <h2>계산기</h2>
      
      <div class="tool-section">
        <button id="btn-a">a 계산</button>
        &nbsp;&nbsp;
        <button id="btn-b">b 계산</button>
        &nbsp;&nbsp;
        <button id="btn-c">c 계산</button>
        <p />
         
        <div id="a-form" class="calc-form">
          a >>> b에 대한 %를 구합니다.
          <form oninput="calculateChange()">
            <label for="a-value">시작 값(a): </label>
            <input type="number" id="a-value" name="a-value" step="any">
            &nbsp;&nbsp;
            <label for="b-value">현재 값(b): </label>
            <input type="number" id="b-value" name="b-value" step="any">
        
            <p>변동률: <strong id="result">-</strong></p>
          </form>
        </div>
      
        <div id="b-form" class="calc-form">
          <!-- b 계산 폼 내용 -->
          <form>
            <label for="b-value">b 값:</label>
            <input type="text" id="b-value" name="b-value">
            <button type="submit">계산</button>
          </form>
        </div>

        <div id="c-form" class="calc-form">
          <!-- c 계산 폼 내용 -->
          <form>
            <label for="c-value">c 값:</label>
            <input type="text" id="c-value" name="b-value">
            <button type="submit">계산</button>
          </form>
        </div>
      </div>
      
    </section>
  </main>


  <div id="footer"></div>

  <script>
    // Load header
    fetch("header.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("header").innerHTML = data;
      });

    // Load footer
    fetch("footer.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("footer").innerHTML = data;
      });

    document.getElementById('btn-a').addEventListener('click', function() {
      // a 폼을 보이고 나머지 숨기기
      document.getElementById('a-form').style.display = 'block';
      document.getElementById('b-form').style.display = 'none';
      document.getElementById('c-form').style.display = 'none';
    });
    
    document.getElementById('btn-b').addEventListener('click', function() {
      // b 폼을 보이고 나머지 숨기기
      document.getElementById('a-form').style.display = 'none';
      document.getElementById('b-form').style.display = 'block';
      document.getElementById('c-form').style.display = 'none';
    });

    document.getElementById('btn-c').addEventListener('click', function() {
      // c 폼을 보이고 나머지 숨기기
      document.getElementById('a-form').style.display = 'none';
      document.getElementById('b-form').style.display = 'none';
      document.getElementById('c-form').style.display = 'block';
    });


    function calculateChange() {
      const a = parseFloat(document.getElementById("a-value").value);
      const b = parseFloat(document.getElementById("b-value").value);
      const result = document.getElementById("result");
  
      if (!isNaN(a) && !isNaN(b) && a !== 0) {
        const change = ((b - a) / a) * 100;
        const sign = change >= 0 ? "+" : "";
        result.textContent = `${sign}${change.toFixed(2)}%`;
      } else {
        result.textContent = "-";
      }
    }
  </script>
</body>
</html>
